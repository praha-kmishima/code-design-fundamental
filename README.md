## 1-3 Open-Closed-Principleの実例を一つ考えて、作成してみてください。

[TS Playground](https://www.typescriptlang.org/play)で書けるような簡単なサンプルで構いません！

## 1-7-2デメテルの法則

デメテルの法則を新人エンジニアに伝えたところ「わかりました！こうすれば良いのですね！」と、[このようなコードを提出されました](https://www.typescriptlang.org/play?#code/MYGwhgzhAEAKCuAnYALSBTaBvAsAKGmgAdEBLANzABdMB9eCdRASQBMAuaCKsgOwHN8hEhWp0SAe1bxgVNp259BBaMAm9FMqhMQAKBk3lcepAQBpiiKVqOLT-AJTYhhV1RSkIAOnqMWraABeaAN-F1dod08fSWlZNiDLa3jWFwBffBcAeizoQAbTQC65QBgGQGUGQDEGQBCGQGMGQDMGfnQqGkQsxkamQCSGQCztQEr-QHUGGsAhBkAlBkAYhkAHBkBxhkBDhkAJhkBrhkA7BkBVm0BxJUBrBkB7BkBVBMBZ5V7APwZAbQZAZIZACIZAWwZAQH-AWAYXIngAIxBSYGh6qhC-Nl0nXBUIxANJC8SIeby+QypFQZFT3J4vLgNT6Q3SkVi-cJuME+UIJYJo9J3R7PV7vJJxOSsH7Of6uQFUYGg6K0WI2KGEGHCYkI1rktmo9E0iKEKLg1kpRIE6H4NJAA)。これだけでは特にコードの保守性に対して効果が無いことを説明してあげてください

## 2 

例えば[このサンプルコード](https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgAoFcoIBZwM4oDeAUMsugVAJIAmAXMnmFKAOanIAOUA9jegjC0GTFiHZlmcEHkRhgPEAxJkyeAUgg0tDZuggcyCHgFtOAGwiQaAQTAMAInEgcAvsXfFQkWIhSo4AE8TCHAAJQhjKBoIzh5kFWRWKwwsXAI8ACFAhgAKCmhhRmY2AEpkAF4APjRMHHwIAG0AXQ9iYgRzfDxatIaAZWgAN2AkBI5OdAAjc1HkYxk9QR4oXO5gIecUTiCQ8MiVmIg4hgDg0LAIqKO48sJPMkmZucm+gnzKItE2ABouXn4gi+JXEd0M80UTGQcHM5lS9QylWQYGwwDwADodud9tdYjx0ckwPD0hAsoEPoUaKVwQsoTsmMSGkiYXC6iSMTBQDRcmtytUuJiAQIhDRKhUKv8+MLaMgAGSygVSGRyBQgdHqBCabRU8HAGDINb4Ilshpg1SqFG8ADuyBAEBtAFEoLxVgByQDKDIA7BkAYqqAQZVAPYMgCkGQBODIALBkAUQyAVQZAH4MgAA5X2ABTTAFnagHMGQCaDIBAf9d1PND1UAHp88hAD8xgFNFQDSRoAs30AsgyAawZAEwJgACGNweIAhttps://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgAoFcoIBZwM4oDeAUMsugVAJIAmAXMnmFKAOanIAOUA9jegjANUvfoI7M4IPIjDAeIBiTJk8ApBBqaGzdBA5kEPALacANhEg0AgkOQAROJA4BfYm+KhIsRChF8BMGRlLlFA2gYmFhB2MhA4YwhI5jYOAjB-MTA8YTDBAG0AXXdiT3BoeCQ0OABPRPAAJQgjKBomzh5gjlZLDCxcAjwAIRqGAAoKaAjGFJiASmQAXgA+NEwcfAgikuIEM3w8Nf7NgGVoADdgKpDOdAAjMyvkI2ldQR4oMe5gc6cUTlq9TATRabQgHWEgIgjWaHzBHQWhA8ZFuDyet2OBAmlGmUTYABpQgFBLjZqxEQZngomMg4GYzH0NoMlsgwNhgHgAHQAurQ4Gw1rtHicnoZdYDCDDGrYqY0OalFS0+mMiVcmAfACiiGwYy+4s2CxWXUVZGAMGQesxEG5eTAnPSmUCXOMcE4us4htWnBtxLAtDmnNAe3QWjwX1t-opJpUbN4AHdkCAIAmNVBeJ8AOSAboZAMMMgAmGQBiqoBBlUASQyAH5jAKaKgAg7QD+DIA7BkAnaaAewZAIAMgGUGOvFkuAFQZK4ARBkA+gyAAwZAIoMgD8GQDaDIBkhkAgP8Z+XRtyKlzyykAejXyErgGkjQBZvoBZBkA1gyAJgTAAEMrncQA)では「特定の商品は1人につき年間1つまでしか買えない」といった仕様を実現しようとしています。このコードにはどのような問題点が潜んでいるでしょうか？もしあなたが書き換えるとしたら、どのようにこのコードを改修しますか？

💡 「アプリケーション側ではなくSQLで絞り込む」という改修を思い当たるかもしれません。しかしその場合「過去1年以内に特定の商品を購入した履歴を抽出する」という、特定のドメインロジックに依存したSQLが生まれてしまいます。今後「過去3ヶ月以内に商品を購入した場合は購入不可とする」「プレミアム会員の場合は1年に何個でも購入可能とする」といったロジックが生まれると、それらのロジックがSQLに含まれて、SQLがどんどん複雑に肥大化していきます。

一方、アプリケーション側だけで絞り込みを実現しようとすると（今回のように、まず特定ユーザーの過去の購入履歴を全て取得してから絞り込むといったアプローチだと）性能面で問題が起きるかもしれません。

どちらの方法もメリットデメリットがありそうですね・・・！（実際そういう問題なので答えはケースバイケースなのですが、どんな時にどちらの選択肢を選ぶか考えてみると面白いかもしれません）。

明確な答えが出る問題ではないので「こういう時はA」「こういう時はB」と、どのような条件化でそれぞれの選択が適切になるのか話し合ってみると良いでしょう！

## 3

[こちらのコードに記載されているような](https://www.typescriptlang.org/play?#code/MYGwhgzhAEAKCmAnCB7AdtA3gWAFDQOgAcBXAIxAEtho0wBbeALmggBdFK0BzPQ48lRrswiAOopEAay7cAgmxYARMG3h9CwdO0QlgbSQAo6jFjtkAaVm1FsJ02QuWr4ASiwb+BNgAtKEADoTeGgAXloGdXwvbz9AkXFJGR4FMOtbe2T5Nk9oAF88Atw8UEgYAGEUeiIwNABPD2iCUgpqYngUIhBmOCRUNABtAF1crTQdPQNEQyIOrp6EZHRh9xwmr19-ANnO7rSd+dyiopLtNmgtatqG8LR4AHdoSqv6wwG7x8X+wwByMB+rB9oCo1L8AEwABjBAEYALQQuEIn6uVyAh69JZoX5kAG0dEg+DgqGIuHQ5GuIauU7jc4AM0oyDYX3QaUuNXq2zm3QGEJGxVwAHoBdBAKrygEiGQDSDIA7BkAtwyADoZAMMMgHqGQDWDIB-eUAFK6ATQZANEMgH0GQCBDIBABmZGDkUsAJ0qATaVANGpgGnNQCnpoAkhkAa8qAKIZAF+KWup7GgABMXGl6YzTQEEplHDl+ULoIBVBkAfgyANQZ44ArBnlysA5gyawDqDIAzBkAIgw6lMSjOAEqjAMYMucAL2aABtM89n44AxBjwAbUYfgbAAYiQQCAAJrwUSGaEQ0dU3DB9ih4JpH70FB+yj0+B+iKMH54H0oboBEAobiGNnXdwxo-1KWAWjkVYBqFXjgBiGAt603Qc3W+0OwAyDIBITUA8QyVhuNoAgP94EAA)PersonクラスとCompanyクラスが存在するとします。Personクラスの名前と勤務開始日（name, starWorkingAt）は外部から自由に書き換えられるような状態になっています。この設計にはどのような問題が潜んでいるでしょうか？どうすれば解決できると思いますか？

同じ課題を渡された新人エンジニアが「わかりました！getterとsetterを定義すれば良いんですね！」と言ってきました。なぜそれが問題を解決していないのか教えてあげましょう

💡 カプセル化について調べてみると良いかもしれません